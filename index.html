<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <title>presentation</title>

    <script type="module" src="/main.js"></script>
</head>
<body>

<div class="reveal">
    <div class="slides">

        <section class="title chapter" data-auto-animate data-background-image="/oopsla25/oopsla-background.png">
            <h1>MIO: Multiverse Debugging in the Face of Input/Output</h1>

            <p class="authors"><b>Tom&nbsp;Lauwaerts</b>, Maarten&nbsp;Steevens, Christophe&nbsp;Scholliers</p>
            <!-- <a class="invisible link" href="https://www.ugent.be/"> -->
            <!-- <img id="ugent" class="logo" src="/ugent.png"  alt="Ghent University" /> -->
        </section>

        <section data-background-image="/oopsla25/espressifboard.jpg" class="absolute" data-transition="none" data-auto-animate>
            <div class="absolute attribution">Photo by <b>Vishnu Mohanan</b> on <b>Unsplash</b></div>
        </section>


        <!-- SLIDE problems hinten met LED voorbeeld uitleg -->

        <!-- Temperature sensor example -->

        <section>
          <!-- data-background-image="/oopsla25/espressifboard.jpg" class="absolute" data-transition="none" data-auto-animate> -->
          <div class="rows"> <!-- data-line-numbers="|6,9" -->
          <pre id="example"><code data-trim data-noescape>
function main(): void {function main(): void {
    const lowThreshold = 1000; const highThreshold = 2000;
    while (true) {
      const temp = analogRead(sensor);
      if (temp < lowThreshold) {
          digitalWrite(blueLED, HIGH);
          digitalWrite(redLED, LOW);
      }
      else if (temp < highThreshold) {
          digitalWrite(redLED, LOW);
          digitalWrite(redLED, LOW);
      }
      else {
          digitalWrite(blueLED, LOW);
          digitalWrite(redLED, HIGH);
      }
    }
}
          </code>
          </pre>

          <div class="r-stack">
              <img style="width: 40vw" src="/leds/turnedoff.png" />
              <img class="fragment" style="width: 40vw" src="/leds/blueturnedon.png" />
              <img class="fragment" style="width: 40vw" src="/leds/redturnedon.png" />
          </div>
          <!-- <div class="absolute attribution">Photo by <b>Vishnu Mohanan</b> on <b>Unsplash</b></div> -->
          </div>
        </section>

        <!-- SLIDE TODO problemen herhalen
          + C1: exploring non-deterministic input in programs ON MICROCONTROLLERS
            ... met mocking en multiverse kunnen we alles mooi zien maar output klopt niet als we terug gaan
          + C2: je wilt kunnen achteruit stappen, maar hoe hou je dan uw output
            ... dus maken we primitives met compensating actions
          + C3: dat is niet efficient op mcu
            ... dus spare snapshotting (uitleggen met arrows)
          + C4: we willen ook een debugger die op 
            ... en dit alles is correct: sound & complete
        -->

        <section>
            <blockquote>
                <b>74%</b> of surveyed participants say that IoT developers rely on access to devices to test and debug.
            </blockquote>

            <div class="citation">
                <p class="">Makhshari A., Mesbah A. (2021). IoT Bugs and Development Challenges. ICSE '21</p>
            </div>
        </section>

        <section>
            <div class="r-stack">
                <img class="fragment shadow rounded custom blur-out" data-fragment-index="1" src="/githubissue2021.png" />
                <img class="fragment shadow rounded fade-in-then-out" data-fragment-index="1" src="/githubissue2021-icepack1.png" />
                <img class="fragment shadow rounded fade-in-then-out" data-fragment-index="2" src="/githubissue2021-icepack2.png" />
            </div>
        </section>

        <section>
            <img class="shadow rounded" src="/githubissue2024.png" />
        </section>

        <section>
            <!-- data-background-image="/oopsla25/espressifboard.jpg" class="absolute" data-transition="none" data-auto-animate> -->
            <div class="rows"> <!-- data-line-numbers="|6,9" -->
                <pre id="example"><code data-trim data-noescape>
function main(): void {function main(): void {
    const lowThreshold = 1000; const highThreshold = 2000;
    while (true) {
      const temp = analogRead(sensor);
      if (temp < lowThreshold) {
          digitalWrite(blueLED, HIGH);
          digitalWrite(redLED, LOW);
      }
      else if (temp < highThreshold) {
          digitalWrite(redLED, LOW);
          digitalWrite(redLED, LOW);
      }
      else {
          digitalWrite(blueLED, LOW);
          digitalWrite(redLED, HIGH);
      }
    }
}
          </code>
          </pre>

                <div class="r-stack">
                    <img style="width: 40vw" src="/leds/turnedoff.png" />
                    <img class="fragment" style="width: 40vw" src="/leds/blueturnedon.png" />
                </div>
                <!-- <div class="absolute attribution">Photo by <b>Vishnu Mohanan</b> on <b>Unsplash</b></div> -->
            </div>
        </section>

        <section>
            <h1>Challenges in Debugging</h1>
            <ul class="challenges">
                <li data-id="challenge1" class="fragment"><img src="public/challenges/icepack.png" /> <p>Exploring non-deterministic input in programs on microcontrollers.</p></li>
                <li class="fragment"><img src="public/challenges/reversibility.png" /> <p>How to get reverse debugging while keeping output consistent?</p></li>
                <li class="fragment"><img src="public/challenges/microcontroller.png" /> <p>Microcontrollers have very few resources.</p></li>
                <li class="fragment"><img src="public/challenges/formalism.png" /> <p>We want this debugger to be grounded on a sound formalism.</p></li>
            </ul>
        </section>

        <section>
            <ul class="challenges">
                <li data-id="challenge1" class=""><img src="public/challenges/icepack.png" /> <p>Exploring non-deterministic input in programs on microcontrollers.</p></li>
            </ul>
        </section>

        <!--
        <section class="absolute"
                 data-transition="none"
                 data-background-video="/oopsla25/binarycounterloop.mp4"
                 data-background-video-loop
                 data-background-video-muted>
        </section>
        -->

        <section>
            <img class="shadow pdf" src="/ecoop.png" />
            <div class="citation">
                <img class="tiny logo" src="/ecoop-logo.png" />
                <p class="">Carmen Torres Lopez, Robbert Gurdeep Singh, Stefan Marr, Elisa Gonzalez Boix, and Christophe Scholliers. Multiverse Debugging: Non-Deterministic Debugging for Non-Deterministic Programs (Brave New Idea Paper). In 33rd European Conference on Object-Oriented Programming (ECOOP 2019).</p>
            </div>
        </section>

        <section class="absolute"
                 data-transition="none"
                 data-background-video="/oopsla25/graphredex.mp4"
                 data-background-video-loop
                 data-background-video-muted>
           <!-- <video controls
                   data-loop
                   data-autoplay
                   muted
                   style="background-color: #eff1f5; object-fit: fill; width: 95%; max-width: 100%; max-height: 100%; height: 95%"
                   src="/graphredex.mp4"></video>-->
        </section>

        <!--
        <section class="normal">
            <div class="r-stack">
                <img class="shadow pdf"
                     style="margin-left: 15vw; margin-top: 0"
                     src="/uml-debugging.png"
                     alt=""/>

                <img class="shadow fragment fade-left pdf"
                     style="margin-left: 25vw; margin-top: 7vw"
                     src="/temporal-debugging.png"
                     alt=""/>

                <img class="shadow fragment fade-left pdf"
                     style="margin-left: 35vw; margin-top: 14vw"
                     src="/latest-multiverse.png"
                     alt=""/>
            </div>
            <div class="citation">
            </div>
        </section>
        -->

        <section class="normal" data-auto-animate>
            <h1><ul class="no-margin"><li>M</li><li class="io">I</li><li class="io">O</li></ul></h1>
            <h2><span class="light">/maː.joː/</span><span> a Multiverse debugger for </span><span class="io">I/O</span></h2>
        </section>

        <section class="normal" data-auto-animate>
            <h1><ul class="no-margin"><li>M</li><li class="io">I</li><li class="io">O</li></ul></h1>
            <h2><span class="light">/maː.joː/</span><span> a Multiverse debugger for </span><span class="io">I/O</span></h2>
            <img style="max-width: 15vw" src="/warduino-logo.png" />
        </section>

        <section data-auto-animate data-auto-animate-restart>
          <div class="r-stack">
            <img class="fragment custom blur-out" data-id="mio" data-fragment-index="1" src="/mio-screenshot.png"/>
            <img class="fragment fade-in" style="" data-fragment-index="1" src="/mio-screenshot-tree.png" /> <!-- TODO make screenshot -->
            <img class="fragment fade-in-then-out" style="" data-fragment-index="2" src="/mock.png" />
          </div>
        </section>

        <section>
            <ul class="challenges">
                <li class=""><img src="public/challenges/reversibility.png" /> <p>How to get reverse debugging while keeping output consistent?</p></li>
            </ul>
            <!-- TODO add screenshot with jump -->
        </section>

        <!-- TODO confetti cannon -->

        <section>
            <img style="width: 50%" src="/debugstate.svg"/>
            <img class="fragment" style="width: 50%" src="/snapshotdef.svg"/>
        </section>

        <section>
            <div class="r-stack">
                <img class="" style="max-width: 85%" src="/slide-screenshot.png"/>
            </div>
        </section>

        <section>
            <ul class="challenges">
                <li class=""><img src="public/challenges/microcontroller.png" /> <p>Microcontrollers have very few resources.</p></li>
            </ul>
        </section>

        <!--
        <section class="normal black" data-auto-animate data-background-color="black">
            <h1><ul><li>M</li><li class="io">I</li><li class="io">O</li></ul></h1>
            <h2><span class="light">/maː.joː/</span><span> a Multiverse debugger for </span><span class="io">I/O</span></h2>
        </section>
        -->

        <!--
        <section class="normal black" data-auto-animate data-background-color="black">
            <h1><ul><li class="io">M</li><li class="io">I</li><li class="io">CONTR</li><li class="io">O</li><li class="io">LLERS</li></ul></h1>
            <h2><span class="light">/maː.joː/</span><span> a Multiverse debugger for </span><span>I/O</span></h2>
        </section>

        <section class="normal black" data-auto-animate data-background-image="/espressifboard.jpg">
            <h1><ul><li class="io">M</li><li class="io">I</li><li class="io">CONTR</li><li class="io">O</li><li class="io">LLERS</li></ul></h1>
            <h2><span class="light">/maː.joː/</span><span> a Multiverse debugger for </span><span>I/O</span></h2>
        </section>
        -->

        <!--
        <section class="normal">
            <div class="r-stack">
                <img class="shadow fragment custom dim"
                     data-fragment-index="1"
                     src="/clion.png"
                     alt="Clion"/>

                <img class="shadow fragment rounded fade-in-then-out"
                     data-fragment-index="1"
                     style="background-color: #e6e9ef; width: 800px"
                     src="/clion-debugger.png"
                     alt="Clion debugger"/>

                <img class="shadow fragment rounded"
                     data-fragment-index="2"
                     style="background-color: #eff1f5; max-width: 650px"
                     src="/clion-debugging.gif"
                     alt="Clion step by step"/>
            </div>
        </section>
        -->

        <!--
        <section data-auto-animate-restart>
            <img class="shadow" src="/mio.png"/>
        </section>

        <section>
            <video controls
                   data-loop
                   data-autoplay
                   style="background-color: #eff1f5; object-fit: fill;"
                   src="/demo.mp4"></video>
        </section>
        -->


        <!-- TODO

        <section class="techstack">
        tech stack: open bot brain (hardware) + zephyr (RTOS) + warduino (VM) + MIO (backend) + MIO frontend (Kotlin)
        BUT also esp32 with zephyr
        TODO
          <img src="/OBB-logo.svg" />
          <h2>Zephyr</h2>
          <img src="/warduino-logo.png" />
          <h2>MIO</h2>
        </section>

        -->


<!-- TODO
        <section>
        primitives: requirements (show by memorable examples instead of bullet points)
        </section>
 -->

        <!--<section class="" data-auto-animate>
            <h1>How did we build MIO?</h1>
            <img class="" style="width: 60%" src="/overview.png"/>
        </section>-->

        <section data-auto-animate data-auto-animate-restart="">
            <div class="r-stack">
                <img class="" style="max-width: 75%" src="/figure8/step2.png"/>
                <img class="fragment fade-in" style="max-width: 75%" src="/figure8/step4.png"/>
                <img class="fragment fade-in" style="max-width: 75%" src="/figure8/step5.png"/>
                <img class="fragment fade-in" style="max-width: 75%" src="/figure8/step6.png"/>
                <img class="fragment fade-in" style="max-width: 75%" src="/figure8/step7.png"/>
                <img class="fragment fade-in" data-id="figure8" style="max-width: 75%" src="/figure8/step8.png"/>
            </div>
        </section>

        <!--
        <section data-auto-animate="">
            <div class="">
                <img class="" data-id="figure8" style="max-width: 75%" src="/figure8/step8.png"/>
                <img class="" style="max-width: 75%" src="/figure9.svg"/>
            </div>
        </section>

        <section data-auto-animate="">
            <div class="">
                <img class="" data-id="figure8" style="max-width: 75%; opacity: 42%" src="/figure8/step8.png"/>
                <img class="" style="max-width: 75%" src="/figure9-step1.svg"/>
            </div>
        </section>

        <section data-auto-animate="">
            <div class="">
                <img class="" data-id="figure8" style="max-width: 75%; opacity: 42%" src="/figure8/step8.png"/>
                <img class="" style="max-width: 75%" src="/figure9-step2.svg"/>
            </div>
        </section>

        <section data-auto-animate="">
            <div class="">
                <img class="" data-id="figure8" style="max-width: 75%; opacity: 42%" src="/figure8/step8.png"/>
                <img class="" style="max-width: 75%" src="/figure9-step3.svg"/>
            </div>
        </section>

        <section data-auto-animate="">
            <div class="">
                <img class="" data-id="figure8" style="max-width: 75%; opacity: 42%" src="/figure8/step8.png"/>
                <img class="" style="max-width: 75%" src="/figure9-stepback.svg"/>
            </div>
        </section>

        <section data-auto-animate="">
            <div class="">
                <img class="" data-id="figure8" style="max-width: 75%; opacity: 100%" src="/figure8/step8.png"/> TODO highlight arrows
                <img class="" style="max-width: 75%" src="/figure9-stepbackcompensate.svg"/>
            </div>
        </section>
        -->

        <section>
            <div class="r-stack">
                <img class="" style="width: 85%" src="/figure13-start.svg"/>
                <img class="fragment custom zoom13" style="width: 85%" src="/figure13-zoom.svg"/>
            </div>
        </section>

        <section>
            <img class="" style="width: 70%" src="/figure14.svg"/>
        </section>

        <!-- NOTE
        **BRIDGE:** WebAssembly helps with the formalization of our technique ...

        It is important for debuggers targetted at debugging non-deterministic programs that the observe the same behavior as the normal execution.
        The original multiverse debugger GraphRedex proved that it exactly showed the same states as could be observed by the program semantics.
Proving somthing similar here is rather complicated since we are now working without a model but an exact execution, and on top of that we are reversing output actions.

        However, we have found a way to define the same kind of correctness criteria for our concrete multiverse debugger, and have split this into two theorems.

        theorem 1 ... holds for our because ...

        theorem 2 ... holds for our because ...
        -->

        <section>
            <ul class="challenges">
                <li class=""><img src="public/challenges/formalism.png" /> <p>We want this debugger to be grounded on a sound formalism.</p></li>
            </ul>
        </section>

        <section class="">
            <div class="r-stack">
                <img class="shadow pdf fragment custom blur-out" data-fragment-index="1" src="/noninterference-full.png" />
                <img class="shadow pdf fragment fade-in" data-fragment-index="1" src="/noninterference-zoom.png" />
            </div>
            <div class="citation">
                <img class="tiny logo" src="/ecoop-logo.png" />
                <p class="">Carmen Torres Lopez, Robbert Gurdeep Singh, Stefan Marr, Elisa Gonzalez Boix, and Christophe Scholliers. Multiverse Debugging: Non-Deterministic Debugging for Non-Deterministic Programs (Brave New Idea Paper). In 33rd European Conference on Object-Oriented Programming (ECOOP 2019).</p>
            </div>
        </section>

        <section>
            <div class="r-stack">
                <img class="" style="max-width: 75%" src="/theorem1.png"/>
            </div>
        </section>

        <section>
            <div class="r-stack">
                <img class="" style="max-width: 75%" src="/theorem2.png"/>
            </div>
        </section>

        <section class="title chapter" data-auto-animate data-background-image="/oopsla25/qrs/oopsla-background-qrs.png">
            <h1>MIO: Multiverse Debugging in the Face of Input/Output</h1>

            <div id="people" class="three rows">
            <p class="author"><b>Tom&nbsp;Lauwaerts</b></p> <p class="author">Maarten&nbsp;Steevens</p> <p class="author">Christophe&nbsp;Scholliers</p><div class="filler"></div>
                <div class="author"><img src="public/people/tom.jpg"/></div>
            <div class="author"><img src="public/people/maarten.jpg"/></div>
            <div class="author"><img src="public/people/christophe.jpg"/></div>
            </div>
            <!-- TODO add links -->
        </section>

    </div>
</div>
</body>
</html>
